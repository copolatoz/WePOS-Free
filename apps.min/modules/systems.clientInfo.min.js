/**
 * Filename: systems.clientInfo.js
 * Generated 2019-03-07 at 12:52:42 AM
 */
Ext.define("ExtApp.modules.systems.view.clientInfo",{openWindow:function(me){var theApp=me.app;var desktop=theApp.getDesktop();var required='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';return desktop.createWindow({id:me.id,title:'Client Info',width:500,iconCls:'icon-home',animCollapse:false,constrainHeader:true,resizable:false,minimizable:false,maximizable:false,border:0,layout:{type:'fit'},items:[{xtype:'form',id:'form_clientInfo',width:450,border:false,bodyBorder:false,fieldDefaults:{labelWidth:80,msgTarget:'side',autoFitErrors:false},items:{xtype:'tabpanel',minHeight:200,activeTab:0,border:false,defaults:{bodyPadding:'10 20 10 10',layout:'fit'},items:[{title:'Client Details',layout:'fit',items:[{xtype:'panel',defaultType:'textfield',layout:{type:'anchor'},defaults:{allowBlank:false,anchor:'100%'},border:false,items:[{fieldLabel:'Client Name',name:'client_name',afterLabelTextTpl:required,value:''},{fieldLabel:'Address',afterLabelTextTpl:required,name:'client_address',value:''},{fieldLabel:'Phone',afterLabelTextTpl:required,name:'client_phone',value:''},{fieldLabel:'Email',afterLabelTextTpl:required,name:'client_email',vtype:'email'}]}]},{title:'WePOS Account',layout:'fit',items:[{xtype:'panel',defaultType:'textfield',layout:{type:'anchor'},defaults:{anchor:'100%',labelWidth:110,},border:false,items:[{fieldLabel:'Merchant Key',name:'client_code'},{xtype:'displayfield',fieldLabel:'Status',name:'merchant_verified_show',},{xtype:'displayfield',fieldLabel:'Tipe',name:'merchant_tipe_show',},{xtype:'displayfield',fieldLabel:'Produk',name:'produk_nama_show',},{xtype:'displayfield',fieldLabel:'Expired',name:'produk_expired_show',},{xtype:'displayfield',fieldLabel:'',labelWidth:'0',name:'info_koneksi',},{xtype:'fieldcontainer',layout:{type:'column'},width:350,fieldLabel:'',items:[{xtype:'button',text:'Verifikasi Merchant Key wepos.id',id:'btnVerifikasi_merchant_clientInfo',iconCls:'icon-refresh',margin:'0 0 0 5',listeners:{click:function(){me.save_clientInfo(1);}}},{xtype:'displayfield',value:'',width:150}]},{xtype:'hidden',fieldLabel:'Status',name:'merchant_verified',},{xtype:'hidden',fieldLabel:'Status',name:'merchant_xid',},{xtype:'hidden',fieldLabel:'tipe',name:'merchant_tipe',}]}]}]}}],buttons:[{text:'Save',formBind:true,id:'btnSave_clientInfo',iconCls:'btn-save',handler:function(){me.save_clientInfo(0);}},{text:'Close',iconCls:'btn-cancel',handler:function(){me.doClose(me.id);}}],listeners:{afterrender:function(){var form=Ext.getCmp('form_clientInfo').getForm();form.reset();Ext.Ajax.request({waitMsg:'Checking ...',url:appUrl+'systems/DataClient/clientInfo',method:'POST',params:{},success:function(response,options){var rsp=Ext.decode(response.responseText);if(rsp.success==false){ExtApp.Msg.warning(rsp.info);return;}
form.findField('client_name').setValue(rsp.data.client_name);form.findField('client_address').setValue(rsp.data.client_address);form.findField('client_phone').setValue(rsp.data.client_phone);form.findField('client_email').setValue(rsp.data.client_email);form.findField('client_code').setValue(rsp.data.client_code);form.findField('merchant_tipe').setValue(rsp.data.merchant_tipe);form.findField('merchant_verified').setValue(rsp.data.merchant_verified);form.findField('merchant_verified_show').setValue(rsp.data.merchant_verified_show);form.findField('merchant_tipe_show').setValue(rsp.data.merchant_tipe_show);form.findField('produk_nama_show').setValue(rsp.data.produk_nama_show);form.findField('produk_expired_show').setValue(rsp.data.produk_expired_show);form.findField('info_koneksi').setValue('');},failure:function(response,options){var rsp=Ext.decode(response.responseText);ExtApp.Msg.warning(rsp.info);}});}}});}});