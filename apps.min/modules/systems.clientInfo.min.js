/**
 * Filename: systems.clientInfo.js
 * Generated 2018-07-18 at 02:16:09 AM
 */
Ext.define("ExtApp.modules.systems.view.clientInfo",{openWindow:function(me){var theApp=me.app;var desktop=theApp.getDesktop();var required='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';return desktop.createWindow({id:me.id,title:'Client Info',width:500,iconCls:'icon-home',animCollapse:false,constrainHeader:true,resizable:false,minimizable:false,maximizable:false,border:0,layout:{type:'fit'},items:[{xtype:'form',id:'form_clientInfo',width:450,border:false,bodyBorder:false,fieldDefaults:{labelWidth:80,msgTarget:'side',autoFitErrors:false},items:{xtype:'tabpanel',minHeight:200,activeTab:0,border:false,defaults:{bodyPadding:'10 20 10 10',layout:'fit'},items:[{title:'Client Details',layout:'fit',items:[{xtype:'panel',defaultType:'textfield',layout:{type:'anchor'},defaults:{allowBlank:false,anchor:'100%'},border:false,items:[{fieldLabel:'Client Name',name:'client_name',afterLabelTextTpl:required,value:''},{fieldLabel:'Address',afterLabelTextTpl:required,name:'client_address',value:''},{fieldLabel:'Phone',afterLabelTextTpl:required,name:'client_phone',value:''},{fieldLabel:'Email',afterLabelTextTpl:required,name:'client_email',vtype:'email'}]}]},{title:'WePOS Info',layout:'fit',items:[{xtype:'panel',defaultType:'textfield',layout:{type:'anchor'},defaults:{anchor:'100%'},border:false,items:[{fieldLabel:'Serial No',name:'client_code'}]}]}]}}],buttons:[{text:'Save',formBind:true,id:'btnSave_clientInfo',iconCls:'btn-save',handler:function(){me.save_clientInfo();}},{text:'Close',iconCls:'btn-cancel',handler:function(){me.doClose(me.id);}}],listeners:{afterrender:function(){var form=Ext.getCmp('form_clientInfo').getForm();form.reset();Ext.Ajax.request({waitMsg:'Checking ...',url:appUrl+'systems/DataClient/clientInfo',method:'POST',params:{},success:function(response,options){var rsp=Ext.decode(response.responseText);if(rsp.success==false){ExtApp.Msg.warning(rsp.info);return;}
form.findField('client_name').setValue(rsp.data.client_name);form.findField('client_address').setValue(rsp.data.client_address);form.findField('client_phone').setValue(rsp.data.client_phone);form.findField('client_email').setValue(rsp.data.client_email);form.findField('client_code').setValue(rsp.data.client_code);},failure:function(response,options){var rsp=Ext.decode(response.responseText);ExtApp.Msg.warning(rsp.info);}});}}});}});