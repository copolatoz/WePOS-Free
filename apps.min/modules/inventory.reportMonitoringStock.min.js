/**
 * Filename: inventory.reportMonitoringStock.js
 * Generated 2020-03-25 at 03:14:27 AM
 */
Ext.define('ExtApp.modules.master_pos.model.model_itemCategory',{extend:'Ext.data.Model',alias:'model_itemCategory',fields:[{name:'id',type:'int'},{name:'item_category_name',type:'string'},{name:'item_category_code',type:'string'},{name:'item_category_desc',type:'string'},{name:'item_category_code_name',type:'string'},{name:'is_active',type:'int'},{name:'is_active_text',type:'string'},{name:'as_product_category_old',type:'int'},{name:'as_product_category',type:'int'},{name:'as_product_category_text',type:'string'}],proxy:{type:'ajax',url:appUrl+'master_pos/itemCategory/gridData',extraParams:{},actionMethods:{read:'POST'},reader:{type:'json',root:'data',idProperty:'id',totalProperty:'totalCount'}}});Ext.define('ExtApp.modules.master_pos.model.model_masterStoreHouse',{extend:'Ext.data.Model',alias:'model_masterStoreHouse',fields:[{name:'id',type:'int'},{name:'storehouse_code',type:'string'},{name:'storehouse_name',type:'string'},{name:'storehouse_desc',type:'string'},{name:'is_active',type:'int'},{name:'is_active_text',type:'string'},{name:'is_primary',type:'int'},{name:'is_primary_text',type:'string'}],proxy:{type:'ajax',url:appUrl+'master_pos/masterStoreHouse/gridData',extraParams:{},actionMethods:{read:'POST'},reader:{type:'json',root:'data',idProperty:'id',totalProperty:'totalCount'}}});Ext.define('ExtApp.modules.master_pos.store.store_itemCategory',{extend:'Ext.data.Store',model:'ExtApp.modules.master_pos.model.model_itemCategory',autoLoad:false,remoteSort:true});Ext.define('ExtApp.modules.master_pos.store.store_masterStoreHouse',{extend:'Ext.data.Store',model:'ExtApp.modules.master_pos.model.model_masterStoreHouse',autoLoad:false,remoteSort:true});Ext.define("ExtApp.modules.inventory.view.reportMonitoringStock",{openWindow:function(me){var theApp=me.app;var desktop=theApp.getDesktop();var v_this=this;var helperGrid=theApp.getHelper('Grid');var phpJs=theApp.getHelper('phpJs');var store_ComboboxItemCategory_MS=theApp.getStore('store_ComboboxItemCategory_MS',false);if(store_ComboboxItemCategory_MS==false){store_ComboboxItemCategory_MS=theApp.copyStore('master_pos','store_itemCategory','store_ComboboxItemCategory_MS');}
store_ComboboxItemCategory_MS.proxy.extraParams.limit=9999;store_ComboboxItemCategory_MS.proxy.extraParams.is_dropdown=1;store_ComboboxItemCategory_MS.proxy.extraParams.show_all_text=1;var store_reportMonitoringStock_StoreHouse=theApp.getStore('store_reportMonitoringStock_StoreHouse',false);if(store_reportMonitoringStock_StoreHouse==false){store_reportMonitoringStock_StoreHouse=theApp.copyStore('master_pos','store_masterStoreHouse','store_reportMonitoringStock_StoreHouse');}
store_reportMonitoringStock_StoreHouse.proxy.extraParams.limit=999999;store_reportMonitoringStock_StoreHouse.proxy.extraParams.is_dropdown=1;store_reportMonitoringStock_StoreHouse.proxy.extraParams.except_primary=0;store_reportMonitoringStock_StoreHouse.proxy.extraParams.is_active=1;store_reportMonitoringStock_StoreHouse.proxy.extraParams.show_all_text=0;store_reportMonitoringStock_StoreHouse.proxy.extraParams.show_choose_text=1;var add_parameter='_dc='+phpJs.mktime();add_parameter+='&category=0';add_parameter+='&category_name=';var url_report=appUrl+'inventory/reportMonitoringStock/print_reportMonitoringStock?'+add_parameter;return desktop.createWindow({id:me.id,title:'Monitoring Stock (Actual)',width:900,height:600,iconCls:'icon-grid',animCollapse:false,constrainHeader:true,border:0,layout:{type:'fit'},items:[{xtype:"panel",layout:'fit',width:850,height:500,border:false,items:[{xtype:"component",id:'print_area_reportMonitoringStock',autoEl:{tag:"iframe",src:url_report},border:false}],dockedItems:[{xtype:'toolbar',dock:'top',items:[{xtype:'hidden',name:'src_category_name_reportMonitoringStock',id:'src_category_name_reportMonitoringStock',},{xtype:'datefield',fieldLabel:'Date',name:'date_from',id:'src_dateFrom_reportMonitoringStock',labelSeparator:'',format:'d-m-Y',altFormats:'Y-m-d|d-m-Y|dmY|Ymd',margin:'5 10 0 0',labelWidth:35,width:150,value:phpJs.date('d-m-Y'),allowBlank:false},'-',{xtype:'combobox',fieldLabel:'',labelSeparator:'',width:200,margin:'5 10 0 0',labelWidth:0,name:'src_category_reportMonitoringStock',id:'src_category_reportMonitoringStock',fieldLabel:' ',store:store_ComboboxItemCategory_MS,queryMode:'local',hiddenName:"id",displayField:'item_category_name',valueField:'id',typeAhead:true,minChars:1,forceSelection:true,pageSize:0,listeners:{select:function(combo,records,eOpts){Ext.getCmp('src_category_name_reportMonitoringStock').setValue(records[0].data.item_category_name);}}},'-',{xtype:'combobox',name:'storehouse_id',id:'reportMonitoringStock_storehouse_id',fieldLabel:'',emptyText:'Pilih Gudang',labelWidth:0,width:170,store:store_reportMonitoringStock_StoreHouse,displayField:'storehouse_name',valueField:'id',queryMode:'local',allowBlank:false,listeners:{select:function(combo,records,eOpts){}}},'-',{xtype:'button',text:'Search',scale:'medium',margin:'15 10 0 0',itemId:'btnSearch_reportMonitoringStock',tooltip:'Search',iconCls:'btn-search',handler:function(){me.print_reportMonitoringStock(0);}},{xtype:'button',text:'Print',scale:'medium',margin:'15 0 0 0',itemId:'btnPrint_reportMonitoringStock',tooltip:'Print',iconCls:'btn-print',handler:function(){me.print_reportMonitoringStock(1);}},'-',{xtype:'button',text:'Excel',scale:'medium',margin:'15 0 0 0',itemId:'btnExcel_reportMonitoringStock',tooltip:'Export to Excel',iconCls:'btn-excel',handler:function(){me.print_reportMonitoringStock(2);}}]},{xtype:'toolbar',dock:'bottom',items:['->',{text:'CLOSE',textAlign:'center',iconCls:'btn-cancel',listeners:{click:function(){me.doClose(me.id);}}}]}]}],listeners:{boxready:function(){store_ComboboxItemCategory_MS.load({callback:function(){Ext.getCmp("src_category_reportMonitoringStock").select(-1);}});store_reportMonitoringStock_StoreHouse.load({callback:function(){Ext.getCmp("reportMonitoringStock_storehouse_id").select(1);}});}}});}});